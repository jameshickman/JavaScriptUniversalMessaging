<!DOCTYPE html>
<html>
    <head>
        <title>Test of the REST API services module</title>
    </head>
    <body>
        <h1>Test script</h1>
    <script type="module">
        import {API_REST, HTTP_GET} from "./lib/API.js";

        window.api = new API_REST();
        api.define_endpoint(
            "slow_response",
            (d) => {
                console.log("First Handler:");
                console.log(d);
            }
        ).define_endpoint(
            "slow_response",
            (d) => {
                console.log("Second Handler:");
                console.log(d);
            }
        );

        console.log("First call to back-end");
        console.log(api.call("slow_response", HTTP_GET));
        console.log("Second call to back-end");
        console.log(api.call("slow_response", HTTP_GET));
    </script>
    </body>
</html>